<div class="paper">
  <div class="row" style="border: none;">
    <div class="col-md-10">
      <h1>Lesson Index</h1>
    </div>
    <div class="col-md-2 top-space">
      <%= link_to 'New Lesson', new_lesson_path, class:"btn btn-success btn-lg" %>
    </div>
  </div>

  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <th class="center">ID #</th>
        <th class="center">Tags</th>
        <th class="center">Text</th>
        <th class="center"></th>
      </tr>
    </thead>

    <tbody>
      <% @lessons.each do |lesson| %>
        <tr>
          <td class="center"><%= lesson.id %></td>
          <td class="center"><%= lesson.tags %></td>
          <td><%= lesson.text.split(" ").each_with_object("") {|x,ob| break ob unless (ob.length + " ".length + x.length <= 200);ob << (" " + x)}.strip.html_safe + "..." %></td>
          <td>
            <div class="btn-group center">
              <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
              Action <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu">
              <li><%= link_to 'View', lesson, class: "btn btn-link" %></li>
              <li><%= link_to 'Edit', edit_lesson_path(lesson), class: "btn btn-link" %></li>
              <li><%= link_to 'Delete', lesson, method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-link" %></li>
            </ul>
          </div>
        </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>